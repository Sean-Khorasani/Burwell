{
  "description": "Cycle through Firefox tabs looking for DeepSeek",
  "parameters": {},
  "sequence": [
    {
      "comment": "Tab 1 - Check if current tab contains deepseek",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab1Title"
      }
    },
    {
      "command": "IF_CONTAINS",
      "parameters": {
        "variable": "tab1Title",
        "substring": "deepseek",
        "store_as": "foundDeepSeekTab1"
      }
    },
    {
      "command": "CONDITIONAL_STOP",
      "parameters": {
        "condition_variable": "foundDeepSeekTab1"
      }
    },
    {
      "comment": "Move to next tab with Ctrl+Tab",
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 2",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab2Title"
      }
    },
    {
      "command": "IF_CONTAINS",
      "parameters": {
        "variable": "tab2Title",
        "substring": "deepseek",
        "store_as": "foundDeepSeekTab2"
      }
    },
    {
      "command": "CONDITIONAL_STOP",
      "parameters": {
        "condition_variable": "foundDeepSeekTab2"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 3",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab3Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 4",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab4Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 5",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab5Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 6",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab6Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 7",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab7Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 8",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab8Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 9",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab9Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "variables": {
          "window": "${firefoxWindows[0]}",
          "modifier": "VK_CONTROL",
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "300ms"
      }
    },
    {
      "comment": "Tab 10",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${firefoxWindows[0]}",
        "store_as": "tab10Title"
      }
    }
  ]
}