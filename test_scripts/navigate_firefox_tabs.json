{
  "description": "Navigate through Firefox tabs to find target",
  "parameters": {
    "targetText": "Text to search for in tab title",
    "maxTabs": "Maximum number of tabs to check"
  },
  "sequence": [
    {
      "comment": "Tab 1 check",
      "command": "UIA_GET_FOREGROUND_WINDOW",
      "parameters": {
        "store_as": "activeWindow"
      }
    },
    {
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${activeWindow}",
        "store_as": "tab1Title"
      }
    },
    {
      "comment": "Move to next tab",
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "pass_variables": {
          "modifiers": ["VK_CONTROL"],
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "500ms"
      }
    },
    {
      "comment": "Tab 2 check",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${activeWindow}",
        "store_as": "tab2Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "pass_variables": {
          "modifiers": ["VK_CONTROL"],
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "500ms"
      }
    },
    {
      "comment": "Tab 3 check",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${activeWindow}",
        "store_as": "tab3Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "pass_variables": {
          "modifiers": ["VK_CONTROL"],
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "500ms"
      }
    },
    {
      "comment": "Tab 4 check",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${activeWindow}",
        "store_as": "tab4Title"
      }
    },
    {
      "command": "EXECUTE_SCRIPT",
      "parameters": {
        "script_path": "test_scripts/uia_send_hotkey.json",
        "pass_variables": {
          "modifiers": ["VK_CONTROL"],
          "key": "VK_TAB"
        }
      }
    },
    {
      "command": "WAIT",
      "parameters": {
        "duration": "500ms"
      }
    },
    {
      "comment": "Tab 5 check",
      "command": "UIA_GET_WINDOW_TITLE",
      "parameters": {
        "hwnd": "${activeWindow}",
        "store_as": "tab5Title"
      }
    }
  ]
}